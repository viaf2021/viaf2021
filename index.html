<!DOCTYPE html>
<html lang="ko-kr">

<head>
   <meta charset="utf-8">
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>VIA Festival 2021</title>
   <link rel="shortcut icon" href="TemplateData/favicon.ico">
   <link rel="stylesheet" href="TemplateData/style_guide.css">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>   
</head>

<body>
   
   <div class="guide-container">
      <object class="guide link" type="image/svg+xml" data="./Img/arrow.svg"> </object>
      <div class="guide text"> 2021  비아페스티벌 가상 공간 가는 길 </div> 
   </div>
   <script>
      var mazeLink = './webgl.html';
      var guideContainer = document.querySelector(".guide-container");
      var introContainerEl = document.createElement("div");
      var vidEl = document.createElement("video");

      window.onload = function() {

         console.log("onload");
         guideContainer.addEventListener("click", function() {
            clickStart();
         }, false);

         function clickStart() {
            guideContainer.classList.add("m-collapse");
            playVid();
         }
   
         // 링크에서 이동시 사용
         function playVid() {
            introContainerEl.appendChild(vidEl);
            introContainerEl.classList.add("intro-container");
            vidEl.classList.add("intro-mov");
            vidEl.src = "./video/Viaf_intro.mp4";
            
            document.body.appendChild(introContainerEl)
            // document.body.insertBefore(introContainerEl, guideContainer);
   
            // vidContainerEl.style.visibility = "visible";
            vidEl.play();
            vidEl.addEventListener('ended', toMaze);
         }
         
         function toMaze() {
            window.location.replace(mazeLink);
         }
      }
   </script>
</body>

</html>
